# 领域知识库: 社交媒体 (Social Media)

> **自动生成**: 由 Super Dev 领域扩展器生成或人工创建
> **用途**: 专家 (Experts) 在处理社交媒体任务时**必须**读取此文件
> **最后更新**: 2025-12-30

---

## 1. 合规与法规 (Compliance)

### 1.1 中国合规要求

| 法规 | 关键要求 | 适用场景 |
|:---|:---|:---|
| **《网络安全法》** | 实名认证、内容审核 | 所有平台 |
| **《个人信息保护法》(PIPL)** | 用户同意、数据最小化 | 用户数据处理 |
| **《互联网信息服务管理办法》** | 备案、内容管理 | 所有服务 |
| **《网络信息内容生态治理规定》** | 违禁内容过滤、举报机制 | 内容平台 |
| **《未成年人保护法》** | 青少年模式、时长限制 | 涉未成年用户 |

### 1.2 国际合规要求

| 法规 | 关键要求 | 适用场景 |
|:---|:---|:---|
| **GDPR** | 数据可携带权、被遗忘权 | 欧洲用户 |
| **CCPA** | 隐私权、数据出售 | 加州用户 |
| **DMCA** | 版权侵权处理 | 用户内容 |
| **DSA (Digital Services Act)** | 透明度报告、非法内容 | 欧盟平台 |

---

## 2. 行业标准与协议 (Standards)

### 2.1 数据标准

| 标准 | 用途 |
|:---|:---|
| **ActivityStreams** | 社交活动数据格式 |
| **JSON-LD** | 结构化社交数据 |
| **WebSub** | 实时内容推送 |

### 2.2 API 标准

| 协议 | 用途 |
|:---|:---|
| **OAuth 2.0 / PKCE** | 用户认证授权 |
| **OpenID Connect** | 身份认证 |
| **GraphQL** | 社交图谱查询 |

---

## 3. 设计最佳实践 (UI/UX)

### 3.1 社交媒体 UX 原则

| 原则 | 说明 | 实践 |
|:---|:---|:---|
| **内容优先** | 内容是核心 | 无限滚动、快速加载 |
| **即时反馈** | 用户期望实时 | 在线状态、已读回执 |
| **社交认同** | 点赞、评论驱动 | 突出互动数据 |
| **个性化** | 算法推荐 | 基于兴趣的Feed |

### 3.2 关键页面

```
登录/注册 → Feed流 → 内容详情 → 评论区 → 个人主页 → 消息中心
```

| 页面 | 核心指标 | 优化要点 |
|:---|:---|:---|
| **Feed 流** | 停留时长、互动率 | 智能排序、懒加载 |
| **内容详情** | 完播率、分享率 | 快速加载、相关推荐 |
| **评论区** | 评论率 | 回复通知、表情互动 |
| **个人主页** | 粉丝转化 | 头像、简介、作品展示 |

---

## 4. 安全红线 (Security)

### 4.1 内容安全

| 威胁 | 防护措施 |
|:---|:---|
| **违规内容** | AI内容审核 + 人工复审 |
| **垃圾信息** | 反垃圾、频率限制 |
| **网络暴力** | 敏感词过滤、举报机制 |
| **虚假账号** | 设备指纹、行为分析 |

### 4.2 隐私保护

```
隐私设置层级:
- 公开: 所有人可见
- 好友: 仅好友可见
- 仅自己: 完全私密
- 自定义: 分组可见
```

### 4.3 数据安全

```
敏感数据处理:
- 手机号: 脱敏 (138****1234)
- 私信: 端到端加密
- 位置: 模糊化处理
- 搜索历史: 可清除
```

---

## 5. 社交业务特定考虑

### 5.1 核心功能模块

| 模块 | 关键指标 | 实现要点 |
|:---|:---|:---|
| **Feed流** | DAU、停留时长 | 分页加载、智能排序 |
| **即时通讯** | 消息量、响应速度 | WebSocket、消息队列 |
| **内容发布** | 发布率、UGC量 | 多媒体支持、草稿箱 |
| **社交图谱** | 关系数、互动率 | 二度人脉、推荐算法 |

### 5.2 算法推荐

```python
# 推荐权重因素
def calculate_content_score(content, user):
    score = 0

    # 互动权重
    score += content.likes * 2
    score += content.comments * 3
    score += content.shares * 5

    # 时间衰减
    hours_old = (now - content.created).hours
    score *= 0.9 ** hours_old

    # 个性化
    if content.category in user.interests:
        score *= 1.5

    # 社交关系
    if content.author in user.friends:
        score *= 2.0

    return score
```

---

## 6. 社交功能设计

### 6.1 互动设计

| 功能 | 设计要点 |
|:---|:---|
| **点赞** | 双击快速点赞、动画反馈 |
| **评论** | @提醒、表情回复、折叠长评论 |
| **分享** | 一键分享、隐私分组 |
| **收藏** | 私密收藏、分类整理 |

### 6.2 通知系统

```
通知优先级:
1. @提及 - 最高优先级
2. 评论/回复 - 高优先级
3. 点赞 - 中优先级
4. 系统消息 - 低优先级

聚合规则:
- 同一内容的多条评论聚合
- 同一人的多条点赞聚合
- 避免通知轰炸
```

---

## 7. 内容管理

### 7.1 内容类型

| 类型 | 特点 | 技术要点 |
|:---|:---|:---|
| **图文** | 基础类型 | 图片压缩、CDN加速 |
| **短视频** | 高流量 | 视频转码、自适应码率 |
| **直播** | 实时性 | RTMP/HLS、低延迟 |
| **故事** | 24小时消失 | 阅后即焚、倒计时 |

### 7.2 内容审核

```
审核流程:
用户发布 → AI初筛 (敏感词、图像识别)
  ↓
人工复审 (AI不确定内容)
  ↓
发布/拒绝/申诉

审核要点:
- 政治敏感
- 色情低俗
- 广告垃圾
- 虚假信息
- 版权侵权
```

---

## 8. 增长策略

### 8.1 用户增长

| 策略 | 描述 | 实现方式 |
|:---|:---|:---|
| **社交裂变** | 邀请机制 | 邀请码、推荐奖励 |
| **内容传播** | 病毒式传播 | 分享到微信、转发抽奖 |
| **KOL引流** | 意见领袖 | 官方邀请、流量扶持 |
| **话题营销** | 热门话题 | 话题标签、排行榜 |

### 8.2 留存策略

```
用户生命周期:
新用户 → 内容引导 → 社交建立 → 习惯养成 → 流失风险 → 召回
```

| 阶段 | 策略 |
|:---|:---|
| **新用户** | 关注推荐、热门内容引导 |
| **活跃期** | 互动提醒、个性化推荐 |
| **沉睡期** | 精彩内容推送、好友动态 |
| **流失期** | 优惠券回归、活动召回 |

---

## 9. 性能优化

### 9.1 高并发处理

| 场景 | 优化方案 |
|:---|:---|
| **Feed流加载** | 缓存热点内容、分页加载 |
| **热点内容** | CDN分发、读写分离 |
| **点赞秒杀** | Redis计数、异步持久化 |
| **消息推送** | 消息队列、长连接池 |

### 9.2 数据库优化

```
分库分表策略:
- 用户库: 按用户ID Hash
- 内容库: 按内容ID Hash
- 互动库: 按时间分表
- 消息库: 按对话ID分库

索引优化:
- 复合索引: (user_id, created_at)
- 覆盖索引: 减少回表
- 延迟关联: 先查索引再关联
```

---

## 10. 常见陷阱 (PITFALLS)

### 10.1 技术陷阱

- ❌ **忽略并发**: 点赞计数不准确
- ❌ **前端权限判断**: 权限必须在后端验证
- ❌ **无限滚动内存泄漏**: 必须清理DOM节点
- ❌ **忽视限流**: 遭遇刷量攻击

### 10.2 产品陷阱

- ❌ **过度打扰**: 通知轰炸导致用户关闭
- ❌ **算法黑盒**: 用户不理解推荐逻辑
- ❌ **忽视冷启动**: 新用户无内容可看
- ❌ **社交压力**: 过度强调互动数据

### 10.3 运营陷阱

- ❌ **内容同质化**: 热门内容被过度模仿
- ❌ **机器人泛滥**: 影响真实用户体验
- ❌ **审核过严**: 误杀正常内容
- ❌ **忽视社区氛围**: 负面情绪蔓延

---

**专家使用提示**:
- PM: 社交产品核心是内容分发和社交关系建立
- Architect: Feed流系统需要考虑高并发和个性化推荐
- UI/UX: 无限滚动和快速加载是关键体验
- Security: 内容安全和隐私保护是生命线
- DevOps: 需要处理突发流量和热点内容
