# 成功模式库 (Success Patterns)

> 来自成功产品和团队的验证经验，可直接复用的最佳实践。

---

## 产品成功模式 (12 条)

### SP1: 10x 用户洞察法
> "不是做用户要的，而是做用户需要的"

**案例**: 福特汽车创始人 - "用户说想要更快的马，我给他们汽车"

**实践方法**:
1. 用户说"我想要 X 功能"
2. 问"为什么想要？"
3. 问"解决什么问题？"
4. 问"现在怎么解决的？"
5. 问"理想状态是什么？"

**关键**: 观察用户做什么，而非只听用户说什么

---

### SP2: 倒金字塔 MVP
> 先搭建核心，再添枝叶

```
Level 1: 核心价值 (必须有) ← 从这里开始
    ↓
Level 2: 优化体验 (应该有)
    ↓
Level 3: 差异化功能 (可以有)
    ↓
Level 4: 锦上添花 (将来有)
```

**实践**: 
- Week 1-2: 完成 Level 1，可使用
- Week 3-4: 优化 Level 2，可推广
- Month 2: 建设 Level 3，可竞争

---

### SP3: Hook 习惯养成循环
> 让用户养成使用习惯

```
触发 (Trigger)
    ↓
行动 (Action)
    ↓
奖励 (Reward)
    ↓
投资 (Investment)
    ↓
(回到触发)
```

**案例 - Instagram**:
- 触发: 推送通知"有人给你点赞"
- 行动: 打开 App 查看
- 奖励: 看到点赞数增加（多变奖励）
- 投资: 发一条新动态

---

### SP4: 北极星对齐
> 一个指标指导所有决策

**案例**:
| 产品 | 北极星指标 |
|:---|:---|
| Airbnb | 预订房晚数 |
| Slack | 发送消息数 |
| Spotify | 播放时长 |
| Netflix | 观看时长 |
| Facebook | DAU |

**特征**: 
- 能反映用户价值
- 能驱动商业增长
- 团队可影响

---

### SP5: 用户分层策略
> 不同用户不同策略

```
VIP 用户 (5%): 贡献 50% 收入
    → 最高优先级服务
    → 专属功能/权益

活跃用户 (20%): 潜力大
    → 转化付费重点
    → 提升粘性

普通用户 (50%): 观望中
    → 激活尝试
    → 推送关键功能

沉默用户 (25%): 快流失
    → 召回策略
    → 不值得高投入
```

---

### SP6: 渐进披露 (Progressive Disclosure)
> 默认简单，复杂可选

**原则**:
- 首屏只显示 20% 最常用功能
- 高级功能通过"更多"展开
- 新用户引导只展示核心

**案例**: Google 首页只有一个搜索框

---

### SP7: 社交证明
> 人们会参考他人的行为

**应用**:
- "已有 10,000+ 用户使用"
- "XX 公司正在使用"
- 用户评价和评分
- 实时动态 "刚刚有人购买了..."

---

### SP8: 锚定效应定价
> 先展示高价，再展示目标价

```
原价: ¥999 (锚点)
限时: ¥299 (看起来很划算)
```

**应用**:
- 三档定价，中间档是目标
- 先展示高端版，再展示基础版

---

### SP9: Aha Moment 加速
> 让用户尽快体验到产品价值

**案例**:
| 产品 | Aha Moment |
|:---|:---|
| Facebook | 10天内添加7个好友 |
| Dropbox | 放入一个文件 |
| Slack | 发送 2000 条消息 |

**策略**:
1. 识别 Aha Moment 是什么
2. 新用户引导直奔这个目标
3. 减少达到 Aha Moment 的步骤

---

### SP10: First-Time User Experience (FTUE)
> 第一次使用决定留存

**最佳实践**:
1. 3 秒内让用户知道产品是干嘛的
2. 30 秒内让用户开始核心动作
3. 3 分钟内让用户体验到价值

**执行**:
- 精心设计 Onboarding
- 跳过注册先试用
- 预填数据减少输入

---

### SP11: 低摩擦设计
> 每一步都减少用户成本

**检查每个步骤**:
- 能默认填充吗？→ 自动填
- 能晚点问吗？→ 推迟
- 能不问吗？→ 删掉
- 能合并吗？→ 合并

**案例**: 亚马逊一键购买

---

### SP12: 闭环反馈
> 用户行为 → 数据 → 产品改进

```
收集行为数据
    ↓
分析用户路径
    ↓
发现流失点
    ↓
优化体验
    ↓
看数据验证
    ↓
(循环)
```

---

## 架构成功模式 (6 条)

### SA1: 渐进式复杂度
> 架构跟着业务规模走

| 阶段 | 用户规模 | 建议架构 | 关键变化 |
|:---|:---|:---|:---|
| MVP | 0 - 1K | 单体应用 | 快速迭代 |
| 成长 | 1K - 100K | 模块化单体 | 水平扩展 |
| 扩张 | 100K - 1M | 核心服务拆分 | 读写分离 |
| 规模 | 1M - 10M | 微服务 | 服务网格 |
| 超大 | 10M+ | 分布式系统 | 多活容灾 |

---

### SA2: 分层清晰
> 每层职责单一，边界明确

```
表示层 (Presentation)
    ↓ (DTO)
    
业务层 (Business)
    ↓ (Domain Object)
    
数据层 (Data Access)
    ↓ (Entity)
    
存储层 (Storage)
```

**原则**: 每层只和相邻层通信

---

### SA3: 可观测性优先
> 不能测量的就不能改进

**三大支柱**:
| 类型 | 工具 | 用途 |
|:---|:---|:---|
| Logs | ELK/Loki | 问题排查 |
| Metrics | Prometheus | 性能监控 |
| Traces | Jaeger | 链路追踪 |

---

### SA4: 面向失败设计
> 假设一切都会失败

**实践**:
- 超时设置
- 重试策略 (指数退避)
- 熔断器
- 服务降级
- 限流保护

---

### SA5: 配置外化
> 不要把配置写死在代码里

**实践**:
- 环境变量
- 配置中心
- Feature Flag
- 不同环境不同配置

---

### SA6: 无状态服务
> 状态存储外化，服务可水平扩展

**实践**:
- Session 存 Redis
- 文件存对象存储
- 服务本身无状态
- 任意实例可处理请求

---

## 设计成功模式 (4 条)

### SD1: 反馈即时性
> 用户操作必须有反馈

| 时间 | 用户感知 | 反馈方式 |
|:---|:---|:---|
| 0-100ms | 即时 | 视觉变化 |
| 100-300ms | 有延迟 | 动画过渡 |
| 300-1000ms | 在加载 | 进度指示 |
| 1-10s | 有点慢 | 进度百分比 |
| > 10s | 太慢了 | 后台处理通知 |

---

### SD2: 一致性原则
> 相同元素，相同行为

**检查**:
- 相同按钮样式一致吗？
- 相同手势行为一致吗？
- 相同场景提示一致吗？

---

### SD3: 错误预防 > 错误恢复
> 预防优于纠正

**实践**:
- 输入限制 (只能输入数字)
- 格式提示 (请输入 11 位手机号)
- 实时验证 (输入时就反馈)
- 危险操作二次确认

---

### SD4: 信息层级
> 重要的信息先看到

**层级**:
1. 核心任务 (最大/最明显)
2. 主要信息 (清晰可见)
3. 辅助信息 (小字/浅色)
4. 元信息 (最小/最浅)

---

## 代码成功模式 (3 条)

### SC1: 小步提交
> 一个 Commit 做一件事

**好处**:
- 容易 Review
- 容易回滚
- 容易追溯

**实践**:
- Commit 信息规范化
- 每个 PR 聚焦一个功能

---

### SC2: 测试金字塔
> 底层多，上层少

```
      /  E2E 测试  \     10%
     /  集成测试    \    20%
    /   单元测试     \   70%
```

---

### SC3: 代码审查文化
> 所有代码都要 Review

**标准**:
- 无自批准
- 至少 1 人 Approve
- 严重问题必须修复
- 建议性意见可选

---

## 如何使用

1. **发现阶段**: 参考产品模式设计需求
2. **架构设计**: 参考架构模式选择方案
3. **详细设计**: 参考设计模式优化体验
4. **交付阶段**: 附上相关成功模式建议
